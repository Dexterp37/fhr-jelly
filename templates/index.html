<!DOCTYPE html>
<html lang="{{ LANG }}" dir="{{ DIR }}" >
    <head>
        <meta charset="utf-8" />
        <title>{{ _('Firefox Health Report') }}</title>

        <link href="css/normalize.css" type="text/css" rel="stylesheet" media="screen" />
        <link href="css/styles.css" type="text/css" rel="stylesheet" media="screen" />
    </head>
    <body>
        <div class="persistentHeader">
          <div class="headerContainer">
            <div class="navAndBlurb">
              <ul class="nav">
                <li class="nav-category active"><a href="#health">{{ _('Firefox Health Report') }}</a></li>
                <li class="nav-separator"></li>
                <li class="nav-category"><a href="#raw">{{ _('Raw Data') }}</a></li>
              </ul>
              <div class="blurb">{{ _('Get insights and performance information about your version of Firefox.') }} <a href="">{{ _('Learn more...') }}</a></div>
            </div>

            <div class="activationWidget">
              <div class="activationTextContainer">{{ _('Data Sharing') }}<br><span class="tabEnabledText">{{ _('ON') }}</span></div>
              <div class="activationTabContainer">
                <div class="activationTabOverlay"></div>
                <div class="activationTab"></div>
              </div>

              <div class="panelContainer disabledPanel">
                <div class="panelContainerArrow"></div>
                <div class="panelContainerBase">
                  <div class="panelContainerContent">
                    <p>{{ _('You\'ve chosen to stop sharing data with Mozilla, but you\'ll still be able to see how your browser is performing.') }}</p>
                    <p class="greyText">{{ _('Your Health Report data will also be removed from Mozilla\'s servers. Learn more in our <a href="">privacy policy.</a>') }}</p>
                  </div>
                </div>
              </div>
              
              <div class="panelContainer enabledPanel">
                <div class="panelContainerArrow"></div>
                <div class="panelContainerBase">
                  <div class="panelContainerContent">
                    <p>{{ _('You\'ve chosen to share your data with Mozilla from time to time. Thanks for being part of our mission to build a brighter future for the Web.') }}</p>
                    <p class="greyText">{{ _('Learn how we handle your data in our <a href="">privacy policy.</a>') }}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div id="health" class="outerContainer">
            <div class="sidebar">
                <div class="statsBox">

                    <div class="statsBoxSection">
                        <div class="statsBoxSection-header">
                            <img class="icon" src="img/icon-vitalStats.png" height="16" width="28">{{ _('Vital Stats') }}
                        </div>
                        <div class="statsBoxSection-content">
                            <ul>
                                <li>{{ _('version') }}<span class="statsBoxSection-value">Firefox 22.0b1</span></li>
                                <li>{{ _('time open') }}<span class="statsBoxSection-value">10:23 hrs</span></li>
                                <li>{{ _('last crash') }}<span class="statsBoxSection-value">6/12/2012</span></li>
                                <li>{{ _('bookmarks') }}<span class="statsBoxSection-value">49</span></li>
                            </ul>
                        </div>
                    </div>

                    <div class="statsBoxSection-separator"></div>

                    <div class="statsBoxSection">
                        <div class="statsBoxSection-header">
                            <img class="icon" src="img/icon-thisMonth.png" height="16" width="16">{{ _('This Month') }}
                        </div>
                        <div class="statsBoxSection-content">
                                <ul>
                                <li>{{ _('time open') }}<span class="statsBoxSection-value">44 hrs</span></li>
                                <li>{{ _('pages visited') }}<span class="statsBoxSection-value">3,458</span></li>
                                <li>{{ _('crashes') }}<span class="statsBoxSection-value">1.5</span></li>
                            </ul>
                        </div>
                    </div>

                    <div class="statsBoxSection-separator"></div>

                    <div class="statsBoxSection">
                        <div class="statsBoxSection-header">
                            <img class="icon" src="img/icon-addons.png" height="16" width="16">{{ _('Add-ons') }}<span class="statsBoxSection-value"><a href="about:addons">{{ _('View List') }}</a></span>
                        </div>
                        <div class="statsBoxSection-content">
                            <ul>
                                <li>{{ _('enabled') }}<span class="statsBoxSection-value">2</span></li>
                                <li>{{ _('disabled') }}<span class="statsBoxSection-value">4</span></li>
                            </ul>
                        </div>
                    </div>

                    <div class="statsBoxSection-separator"></div>

                    <div class="statsBoxSection">
                        <div class="statsBoxSection-header">
                            <img class="icon" src="img/icon-plugins.png" height="16" width="16">{{ _('Plugins') }}<span class="statsBoxSection-value"><a href="about:plugins">{{ _('View List') }}</a></span>
                        </div>
                        <div class="statsBoxSection-content">
                            <ul>
                                <li>{{ _('enabled') }}<span class="statsBoxSection-value">2</span></li>
                                <li>{{ _('disabled') }}<span class="statsBoxSection-value">4</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mainContent">
                <!-- TipBoxes -->
                <div class="tipBoxes">
                    <div class="tipBox-container">
                        <div class="icon closeTip"></div>
                        <div class="tipBox-header">
                            <div class="icon expanderArrow"></div>
                            <div class="text">{{ _('Tips') }}</div>
                        </div>
                        <div class="tipBox-content">
                            <p>{{ _('It looks like your browser has crashed a number of times recently. To learn more:') }}</p>
                            <ul>
                                <li>{{ _('Visit our <a href="https://support.mozilla.org">support website</a>') }}</li>
                                <li>{{ _('View more <a href="">detailed information</a>') }}</li>
                            </ul>
                        </div>
                    </div>

                    <div class="tipBox-container">
                        <div class="icon closeTip"></div>
                        <div class="tipBox-header">
                            <div class="icon expanderArrow"></div>
                            <div class="text">{{ _('Tips') }}</div>
                        </div>
                        <div class="tipBox-content">
                            <p>{{ _('Your browser seems to be running slower than usual. To learn more:') }}</p>
                            <ul>
                                <li>{{ _('Visit our <a href="https://support.mozilla.org">support website</a>') }}</li>
                                <li>{{ _('View more <a href="">detailed information</a>') }}</li>
                            </ul>
                        </div>
                    </div>

                    <div class="tipBox-container">
                        <div class="icon closeTip"></div>
                        <div class="tipBox-header">
                            <div class="icon expanderArrow"></div>
                            <div class="text">{{ _('Tips') }}</div>
                        </div>
                        <div class="tipBox-content">
                            <p>{{ _('You\'ll be able to see more interesting and detailed information the more you use your browser. Check back in a couple of weeks to start seeing some trends.') }}</p>
                        </div>
                    </div>
                </div>

                <figure class="graphbox">
                    <h2>{{ _('Startup Time by Day') }}</h2>

                    <div class="graph_selector">
                        <h4>{{ _('Graph:') }}</h4>
                        <ul>
                            <li><a href="" class="active">{{ _('Average') }}</a></li>
                            <li><a href="">{{ _('All') }}</a></li>
                        </ul>
                    </div>

                    <div class="graph"></div>
                    <figcaption>{{ _('Startup time helps determine how well your version of Firefox is performing. In general, faster times (i.e. less time) indicate better performance.') }}  <a href="">{{ _('Learn More...') }}</a></figcaption>
                </figure>
            </div>
        </div>

        <!-- Raw Data -->
        <div id="raw" class="outerContainer">
            <div class="sidebar_tabs">
                <ul class="raw-tabs">
                    <li><a href="#data" class="active">{{ _('Data Collected') }}</a></li>
                    <li><a href="#glossary">{{ _('Glossary') }}</a></li>
                </ul>
            </div>
            <div class="mainContent">
                <div class="rawdata-container">
                    <section id="data" class="rawdata-display">
<code>
<pre>
{
  "web-app": {
    "servlet": [
      {
        "servlet-name": "cofaxCDS",
        "servlet-class": "org.cofax.cds.CDSServlet",
        "init-param": {
          "configGlossary:installationAt": "Philadelphia, PA",
          "configGlossary:adminEmail": "ksm@pobox.com",
          "configGlossary:poweredBy": "Cofax",
          "configGlossary:poweredByIcon": "\/images\/cofax.gif",
          "configGlossary:staticPath": "\/content\/static",
          "templateProcessorClass": "org.cofax.WysiwygTemplate",
          "templateLoaderClass": "org.cofax.FilesTemplateLoader",
          "templatePath": "templates",
          "templateOverridePath": "",
          "defaultListTemplate": "listTemplate.htm",
          "defaultFileTemplate": "articleTemplate.htm",
          "useJSP": false,
          "jspListTemplate": "listTemplate.jsp",
          "jspFileTemplate": "articleTemplate.jsp",
          "cachePackageTagsTrack": 200,
          "cachePackageTagsStore": 200,
          "cachePackageTagsRefresh": 60,
          "cacheTemplatesTrack": 100,
          "cacheTemplatesStore": 50,
          "cacheTemplatesRefresh": 15,
          "cachePagesTrack": 200,
          "cachePagesStore": 100,
          "cachePagesRefresh": 10,
          "cachePagesDirtyRead": 10,
          "searchEngineListTemplate": "forSearchEnginesList.htm",
          "searchEngineFileTemplate": "forSearchEngines.htm",
          "searchEngineRobotsDb": "WEB-INF\/robots.db",
          "useDataStore": true,
          "dataStoreClass": "org.cofax.SqlDataStore",
          "redirectionClass": "org.cofax.SqlRedirection",
          "dataStoreName": "cofax",
          "dataStoreDriver": "com.microsoft.jdbc.sqlserver.SQLServerDriver",
          "dataStoreUrl": "jdbc:microsoft:sqlserver:\/\/LOCALHOST:1433;DatabaseName=goon",
          "dataStoreUser": "sa",
          "dataStorePassword": "dataStoreTestQuery",
          "dataStoreTestQuery": "SET NOCOUNT ON;select test='test';",
          "dataStoreLogFile": "\/usr\/local\/tomcat\/logs\/datastore.log",
          "dataStoreInitConns": 10,
          "dataStoreMaxConns": 100,
          "dataStoreConnUsageLimit": 100,
          "dataStoreLogLevel": "debug",
          "maxUrlLength": 500
        }
      },
      {
        "servlet-name": "cofaxEmail",
        "servlet-class": "org.cofax.cds.EmailServlet",
        "init-param": {
          "mailHost": "mail1",
          "mailHostOverride": "mail2"
        }
      },
      {
        "servlet-name": "cofaxAdmin",
        "servlet-class": "org.cofax.cds.AdminServlet"
      },
      {
        "servlet-name": "fileServlet",
        "servlet-class": "org.cofax.cds.FileServlet"
      },
      {
        "servlet-name": "cofaxTools",
        "servlet-class": "org.cofax.cms.CofaxToolsServlet",
        "init-param": {
          "templatePath": "toolstemplates\/",
          "log": 1,
          "logLocation": "\/usr\/local\/tomcat\/logs\/CofaxTools.log",
          "logMaxSize": "",
          "dataLog": 1,
          "dataLogLocation": "\/usr\/local\/tomcat\/logs\/dataLog.log",
          "dataLogMaxSize": "",
          "removePageCache": "\/content\/admin\/remove?cache=pages&id=",
          "removeTemplateCache": "\/content\/admin\/remove?cache=templates&id=",
          "fileTransferFolder": "\/usr\/local\/tomcat\/webapps\/content\/fileTransferFolder",
          "lookInContext": 1,
          "adminGroupID": 4,
          "betaServer": true
        }
      }
    ],
    "servlet-mapping": {
      "cofaxCDS": "\/",
      "cofaxEmail": "\/cofaxutil\/aemail\/*",
      "cofaxAdmin": "\/admin\/*",
      "fileServlet": "\/static\/*",
      "cofaxTools": "\/tools\/*"
    },
    "taglib": {
      "taglib-uri": "cofax.tld",
      "taglib-location": "\/WEB-INF\/tlds\/cofax.tld"
    }
  }
}
</pre>
</code>
                    </section>
                    <article id="glossary" class="rawdata-display">
                        <section>
                        <h2>1) {{ _('What the Firefox Health Report Measures') }}</h2>
                        <p>{{ _('The Firefox Health Report (FHR) has 5 categories of metrics:') }}</p>
                        <dl>
                            <dt><a href="#sec-2-1">{{ _('Configuration') }}</a></dt>
                            <dd>{{ _('device hardware, operating system, Firefox version') }}</dd>
                            <dt><a href="#sec-2-2">{{ _('Customizations') }}</a></dt>
                            <dd>{{ _('add-ons, count and type') }}</dd>
                            <dt><a href="#sec-2-3">{{ _('Performance') }}</a></dt>
                            <dd>{{ _('timing of browser events, rendering, session restores') }}</dd>
                            <dt><a href="#sec-2-4">{{ _('Wear and Tear') }}</a></dt>
                            <dd>{{ _('length of session, how old a profile is, count of crashes, count of pages') }}</dd>
                            <dt><a href="#sec-2-5">{{ _('Enveloping') }}</a></dt>
                            <dd>{{ _('used to manage the longitudinal data series of coarse-grained daily data') }}</dd>
                        </dl>
                        </section>
                        <section>
                            <h2>2) {{ _('Detailed Description') }}</h2>
                            <p>{{ _('Device hardware, operating system, Firefox version') }}</p>
                            <table rules="groups">
                                <colgroup><col class="left" />
                                    <col class="left" />
                                </colgroup>
                                <thead>
                                    <tr>
                                        <th scope="col" class="left">{{ _('Metric') }}</th>
                                        <th scope="col" class="left">{{ _('Description') }}</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="left">{{ _('appABI') }}</td>
                                        <td class="left">{{ _('Binary interface for XPCOM') }}(<a href="https://developer.mozilla.org/en/XPCOM_ABI">https://developer.mozilla.org/en/XPCOM_ABI</a>)</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('appBuildID') }}</td>
                                        <td class="left">{{ _('Identifier for this build of the application based on the date the build was started') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('appBuildTargetOS') }}</td>
                                        <td class="left">{{ _('Operating System for which this build was configured') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('appDistribution') }}</td>
                                        <td class="left">{{ _('Identifier for the particular distribution of the application in use. It is taken from the "distribution.id" preference') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('appDistributionVersion') }}</td>
                                        <td class="left">{{ _('Version of the distribution, taken from the "distribution.version" preference') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('appHotFixVersion') }}</td>
                                        <td class="left">{{ _('The version number of any Mozilla hotfix applied to the application') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('appID') }}</td>
                                        <td class="left">{{ _('Identifier unique to the application that indicates it is Firefox or Thunderbird, etc. Same for all installations of an application regardless of the value of appName') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('appName') }}</td>
                                        <td class="left">{{ _('The configured name of the application (Firefox / Aurora / Nightly for instance)') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('appUpdateChannel') }}</td>
                                        <td class="left">{{ _('The channel this installation checks for application updates (nightly/aurora/beta/release)') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('appVendor') }}</td>
                                        <td class="left">{{ _('The name of the company/provider who built this version') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('appVersion') }}</td>
                                        <td class="left">{{ _('The current version of the product') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('cpuCount') }}</td>
                                        <td class="left">{{ _('Number of processor cores') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('isDefaultBrowser') }}</td>
                                        <td class="left">{{ _('Whether the application is currently configured to be the default browser for the operating system') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('locale') }}</td>
                                        <td class="left">{{ _('Locale currently being used') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('memSize') }}</td>
                                        <td class="left">{{ _('Amount of RAM in megabytes') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('osName') }}</td>
                                        <td class="left">{{ _('Currently running Operating System (kernel) name') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('osVersion') }}</td>
                                        <td class="left">{{ _('Currently running Operating System (kernel) version') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('platformBuildID') }}</td>
                                        <td class="left">{{ _('The build identifier of the Gecko platform code') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('platformVersion') }}</td>
                                        <td class="left">{{ _('The version of the Gecko platform code') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('processorArch') }}</td>
                                        <td class="left">{{ _('Processor architecture') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('version.date') }}</td>
                                        <td class="left">{{ _('The date this version was first used with this installation profile') }}</td>
                                    </tr>
                                    <tr>
                                        <td class="left">{{ _('version.version') }}</td>
                                        <td class="left">{{ _('An application version which has been used with this installation profile') }}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </section>
                    </article>
                </div>
            </div>
        </div>

        <!-- Lightbox -->
        <div class="lightbox" role="dialog" aria-label="{{ _('Welcome to your Firefox Health Report') }}">
            <div class="lightbox-content">
                <h2>{{ _('Welcome!') }}</h2>
                <p>{{ _('Firefox Health Report lets you know how your Firefox is performing and what you can do to improve it.') }}</p>
                <button class="button default" id="my_report">{{ _('See My Report') }}</button>
            </div>
        </div>
     
        <script type="text/javascript" src="js/jquery.js"></script>
        <script type="text/javascript" src="js/fhr.js"></script>

        <!-- Has to live inside the HTML because of l10n -->
        <script>
        // Activation widget
        var activationWidget = $(".activationWidget"),
            statusTxt = $(".tabEnabledText");

        var showStatusPanel = function(panel) {
            panel.toggleClass("toggled");
            setTimeout(function() {
                panel.toggleClass("toggled");
            }, 5000);
        };

        activationWidget.click(function() {
            activationWidget.toggleClass("disabled");
            statusTxt.toggleClass("disabled");

            statusTxt.text(function() {
                if ($(this).text() === '{{ _("ON") }}') {
                    showStatusPanel($(".disabledPanel"));
                    return '{{ _("OFF") }}';
                } else {
                    showStatusPanel($(".enabledPanel"));
                    return '{{ _("ON") }}';
                }
            });
        });
    </script>
    </body>
</html>
